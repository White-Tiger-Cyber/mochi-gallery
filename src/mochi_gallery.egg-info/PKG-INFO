Metadata-Version: 2.4
Name: mochi-gallery
Version: 0.1.0
Summary: A Mochimo Blockchain Haiku Visualization Tool
Author-email: Your Name <your@email.com>
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: google-genai
Requires-Dist: requests
Requires-Dist: pillow
Requires-Dist: pydantic
Requires-Dist: python-dotenv
Requires-Dist: flask
Dynamic: license-file

# Mochimo Gallery Generator

**Mochimo Gallery** is an AI art station that turns [Mochimo Blockchain](https://mochimo.org/) blocks into bespoke, high-fidelity posters.

It fetches the unique "Haiku" (nonce) from a specific block, uses **Google Gemini** as an Art Director to interpret the mood, and uses **Google Imagen** to render the illustration. Finally, a holistic design engine applies artistic typography based on the image's composition.

**Features:**
- üñ•Ô∏è **Web Studio:** A local graphical interface to explore blocks and generate art.
- üñºÔ∏è **Interactive Gallery:** A filterable portfolio of your generated works.
- ü§ñ **CLI Daemon:** A command-line tool for batch processing or watching the chain.
- üé® **Style Engine:** Supports custom JSON style definitions (Ghibli, Cyberpunk, Ansel Adams, etc).

> **Project Status:** This is an experimental creative tool. It is designed to be run locally from the cloned repository.

## ‚ö†Ô∏è Prerequisites: Google API Setup

To use this tool, you must have a Google Cloud account with billing enabled. **Image generation via the API (Imagen 4) is a paid feature** (Pay-as-you-go), though the cost is generally low per image.

1. Go to [Google AI Studio](https://aistudio.google.com/) and get an API Key.
2. Ensure your project has billing enabled to access the `imagen-4.0` models.

## Installation

### 1. Clone the Repository
```bash
git clone https://github.com/White-Tiger-Cyber/mochi-gallery.git
cd mochi-gallery
```

### 2. Set up the Environment
It is recommended to use a virtual environment.

```bash
# Create and activate venv
python3 -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# Install dependencies (Flask, GenAI, Pillow, etc.)
pip install -e .
```

### 3. Configuration (.env)
Create a `.env` file in the root directory:
```bash
touch .env
```
Add your key:
```ini
GEMINI_API_KEY="AIzaSy...YourKeyHere"
```

### 4. Install Fonts (Critical)
The tool uses a "Holistic Vibe" engine that picks fonts based on the mood. Run these commands to download the required open-source fonts:

```bash
cd assets/fonts
wget -O handwritten_caveat.ttf "https://github.com/google/fonts/raw/main/ofl/caveat/Caveat%5Bwght%5D.ttf"
wget -O typewriter_roboto.ttf https://github.com/google/fonts/raw/main/ofl/spacemono/SpaceMono-Regular.ttf
wget -O serif_playfair.ttf https://github.com/google/fonts/raw/main/ofl/prata/Prata-Regular.ttf
wget -O sans_oswald.ttf "https://github.com/google/fonts/raw/main/ofl/oswald/Oswald%5Bwght%5D.ttf"
cd ../..
```

---

## üñ•Ô∏è Using the Web Studio (Recommended)

The easiest way to use Mochimo Gallery is the web interface.

1.  **Start the Server:**
    ```bash
    python3 app.py
    ```
2.  **Open Browser:** Go to `http://localhost:5000`
3.  **Generate:** Enter a block number, pick a style/model, and click Generate.
4.  **View:** Click "View Gallery" to see your collection with filters and lightboxes.

---

## üíª Using the CLI (Advanced)

The CLI is perfect for batch jobs, automated watching, or scripting.

### Basic Generation
```bash
mochi-gallery 880030
```

### Apply Art Styles
Use the short name of any JSON file in `assets/styles/`.
```bash
mochi-gallery 880030 --style ghibli
```

### Batch & Ranges
Generate art for a sequence of blocks automatically.
```bash
mochi-gallery 880000-880010 --style quantum
```

### Watcher Mode (Daemon)
Continuously monitor the Mochimo network. When a new block is solved, the tool will wake up, generate the art, update the gallery, and go back to sleep.
```bash
mochi-gallery watch --style random --model fast
```

---

## Configuration & Customization

### Switching Models (Speed vs Quality)
You can switch models in the Web UI dropdown or via the `--model` CLI flag.

*   `fast` (Imagen 4 Fast): Lowest latency, generous quota. Best for testing.
*   `standard` (Imagen 4): Good balance.
*   `ultra` (Imagen 4 Ultra): Highest fidelity, strict daily limits (~30/day).

### Creating Custom Styles
Add a `.json` file to `assets/styles/`. The filename becomes the style ID.

**Example `oilpaint.json`:**
```json
{
  "style_name": "Heavy Impasto Oil",
  "aspect_ratio": "3:4",
  "visual_directives": "Thick impasto oil painting, palette knife texture, vibrant colors, expressive brushwork."
}
```

## Troubleshooting

*   **Error 429 (Resource Exhausted):** You hit your daily image quota. Switch to the `fast` model or use `--mock` to test layouts.
*   **Error 404 (Not Found):** Ensure your API Key project has billing enabled.
*   **Gallery Images Broken:** If images don't load in the gallery, ensure `python3 app.py` is running, as browsers block local file access for security.

## License
MIT License. See [LICENSE](LICENSE) file for details.
